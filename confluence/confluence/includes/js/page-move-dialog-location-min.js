define("confluence/page-move-dialog-location",["jquery","ajs","confluence/legacy","confluence/meta","window"],function(a,e,i,j,k){return function(f){var c=a(this),b=a("#new-space",c),g=a("#new-space-key",c),d=a("#new-parent-page",c),l=e.DarkFeatures.isEnabled("editor.ajax.save")&&!e.DarkFeatures.isEnabled("editor.ajax.save.disable"),h=function(){b.is(":visible")&&(""===b.val()&&(b.val(j.get("space-name")),g.val(j.get("space-key"))),f.clearErrors(),l?d.val()?f.select(g.val(),b.val(),d.val(),a("#parentPageId").val()):
f.select(g.val(),b.val(),d.val(),""):f.select(g.val(),b.val(),d.val()))},m=function(){var a=b.val(),e=d.val();k.setTimeout(function(){a===b.val()&&e===d.val()&&h()},100)};d.blur(m).focus(function(){f.clearErrors();e.dropDown.current&&e.dropDown.current.hide()});b.blur(m).focus(function(){e.dropDown.current&&e.dropDown.current.hide()});b.movePageAutocomplete("/rest/quicknav/1/search?type=spacedesc&type=personalspacedesc",a(".new-space-dropdown",c),i.Templates.MovePage.noMatchingSpaces(),function(a,
f){var c=f.find("span").data("properties");g.val(c.spaceKey);b.val(e("span").html(c.name).text());d.val("");h();d.focus()});d.movePageAutocomplete(function(){return"/rest/quicknav/1/search?type=page&spaceKey="+g.val()},a(".new-parent-page-dropdown",c),i.Templates.MovePage.noMatchingPages(),function(b,c){var g=e("span").html(c.find("span").data("properties").name).text();d.val(g);l&&a("#parentPageId").val(a(c).data().properties.id);h();k.setTimeout(function(){f.moveButton.focus()},50)})}});
require("confluence/module-exporter").exportModuleAsGlobal("confluence/page-move-dialog-location","jQuery.fn.movePageLocation");